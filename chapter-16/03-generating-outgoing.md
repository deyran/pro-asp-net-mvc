# Chapter 16: Advanced routing features

## Generating outgoing URLs in Views

In MVC applications, the user navigates from one view to another. A static link is used for the first view that targets the action method that generates the second view, as can seen in the code below.

```
<a href="/Home/CustomVariable"> This is an outgoing URL</a>
```

The HTML element creates a simple and quick link to CustomVariable action method on the Home controller. Although simple and quick, hard coded links can be dangerous when changes are needed. All application links must be updated one by one.

The routing system is an alternative to defining the URL scheme to generate outgoing URLs dynamically.

### Using the routing system to generate an outgoing URL

To generate an outgoing URL in view open the */View/Shared/ActionName.cshtml* file, edit it to match in Listing 16-2.

<p align="center">
    <img src="ch16-Pictures/Listing 16-2.png" /><br />
    <b>Listing 16-2.</b> Using the Html.ActionLink helper method in the ActionName.cshtml file
</p>  

As seen in Listing 16-2, **Html.ActionLink** was used to create a link. Run the application and see the result in Figure 16-1.

<p align="center">
    <img src="ch16-Pictures/Figure 16-1.png" /><br />
    <b>Figure 16-1.</b> Adding an outgoing URL to a View
</p>  

The HTML that the ActionLink method generates is based on the current routing configuration. In the example seen in Figure 16-1, the URL scheme was defined in Listing 16-1 generating this HTML:

```
<a href="/Home/CustomVariable">This is an outgoing URL</a>
```

The benefit of this approach is that it automatically responds to changes in the routing configuration. As a demonstration, open the RouteConfig.cs file and edit it to match Listing 16-3:

<p align="center">
    <img src="ch16-Pictures/Listing 16-3.png" /><br />
    <b>Listing 16-3.</b> Adding a route to the RouteConfig.cs file
</p>

The new route changes the URL schema, and it can be seen from the HTML generated by the ActionLink HTML helper method as follows:

```
<a href="/App/DoCustoVariable">This is an outgoing URL</a>
```

As can be seen, changing the routing scheme changes automatically the outgoing of views. Not only that, when the link is clicked, it target to the action method correctly, as shown in Figure 16-2:

<p align="center">
    <img src="ch16-Pictures/Figure 16-2.png" /><br />
    <b>Figure 16-2.</b> The effect of clicking on a link is to make an outgoing URL into an incoming request
</p>

> #### UNDERSTANDING OUTBOUND ULS ROUTE MATCHING

* You have seen how changing the routes that define your URL schema changes the way that outgoing URLs are generated.
* Applications will usually define several routes, and it is important to understand just how routes are selected for URL generation.
* The routing system processes the routes in the order that they were added to the RouteCollection object passed to the RegisterRoutes method.
* Each route is inspected to see if it is a match, which requires three conditions to be met:

routes.MapRoute
(
	"MyRoute",
	"{controller}/{action}",
	new { myVar = "true" }
);

---------------------------------------------

For this route to be a match, I must take care to not supply a value for myVar or to make sure that the value I do supply matches the default value.

---------------------------------------------

the values for all of the segment variables must satisfy the route constraints. See the "Constraining Routes" section in the previous chapter for examples of different kinds of constraints

---------------------------------------------

* To be clear: the routing system doesn't try to find the route that provides the best matching route.
* It finds only the first match, at which point it uses the route to generate the URL; any subsequent routes are ignored.
* For this reason, you should define your most specific routes first.
* It is important to test your outbound URL generation.
* If you try to generate a URL for which no matching route can be found, you will create a link that contains an empty href attribute, like this:
<a hef="">Aboute this application</a>

### Targeting other controllers

### Passing extra values

### Specifying HTML attributes

### Generating fully qualified URLs in links

### Generating URLs (and not links)

### Generating Outgoing URLs in action methods

### Generating a URL from a specific route

<!--
# Chapter 16: Advanced routing features
## Generating outgoing URLs in Views
### Using the routing system to generate an outgoing URL
#### UNDERSTANDING OUTBOUND ULS ROUTE MATCHING

> SUMMARRY AND UPDATE ==========================
.
> CONTENTS =====================================
# Chapter 16: Advanced routing features
## Generating outgoing URLs in Views
### Using the routing system to generate an outgoing URL
### Targeting other controllers
### Passing extra values
### Specifying HTML attributes
### Generating fully qualified URLs in links
### Generating URLs (and not links)
### Generating Outgoing URLs in action methods
### Generating a URL from a specific route
.
> GITHUB =====================================
https://github.com/deyran/pro-asp-net-mvc/blob/main/chapter-16/03-generating-outgoing.md
.
> # ==========================================
#DotNet #csharp #csharpdotnet #dotnetcore #csharpdeveloper #dotnetdevelopers #aspnetcore #ASPNET #aspdotnet #IT #developer #TI #tecnologia #DevOps #desenvolvedor #programador #software #homeoffice #dev #tecnologiadainformacao #devs #code #programacao #programação #tecnologiadainformação #sistemasdeinformação #engenhariadesoftware #GitHub #ASPNETMVC #ASPNET #MVC #core #MVC #route #urlroute #urlroting #urlpatterns #RoutingSystem
-->

[<BACK](02-preparing-the-example-proj.md) - [NEXT>](03-generating-outgoing.md)
